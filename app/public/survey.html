<!DOCTYPE html>
<html lang="en">
<style>
/* Create a custom radio button */
.radio-inline {
  margin-left: 400px;
  width: 100px;
}
.question-container label {
  display: inline;
  margin-left: 80px;
}
.survey-button {
  margin-left: 340px;
}  
.survey-header {
  line-height: 50%;  
  margin-left: 400px;
}

</style>
<head>
    <meta charset="UTF-8">
    <title>Friend Finder</title>
    <!-- Latest compiled and minified CSS & JS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://code.jquery.com/jquery.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/style.css" />
</head>
  <body>
    <div class="container">
      <h2>Survey Questions</h2>
      <hr />
      <h3><strong>About You</strong></h3>
      <h4>Name (Required)</h4>
      <input type="text" name="" id="name" class="form-control" required />
      <h4>Link to photo (Required)</h4>
      <input type="text" name="" id="photo" class="form-control" required />
      <hr />

      <h5>Please select your answers on a scale where 5 = Strongly Agree and 1 = Strongly Disagree</h2>
        <h6 class="survey-header">Strongly&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp Somewhat &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp Neutral &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp Somewhat  &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp Strongly</h2>
        <h6 class="survey-header">&nbsp&nbspAgree &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp Agree &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp
            &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp Disagree &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp Disagree</h6>

      <div class="question-container">
        <p class="question">Q1. I like to do outdoor activities</p>
        <div class="survey-button">
            <form>
                <label class="radio-inline"><input type="radio" name="optradio" value=1 checked> 5 </label>
                <label class="radio-inline"><input type="radio" name="optradio" value=2> 4 </label>
                <label class="radio-inline"><input type="radio" name="optradio" value=3> 3 </label>
                <label class="radio-inline"><input type="radio" name="optradio" value=4> 2 </label>
                <label class="radio-inline"><input type="radio" name="optradio" value=5> 1 </label>
            </form>
        </div>
      </div>


      <br />
      <br />
      <button
        type="submit"
        class="btn btn-primary btn-lg btn-block"
        id="submit"
      >
        <i class="fa fa-check-circle" aria-hidden="true"></i> Submit
      </button>
      <br />
      <br />

      <footer class="footer text-center">
        <div class="container">
          <p>
            <a href="#">Home</a> |
            <a href="">GitHub Repo</a>
            <br />
          </p>
        </div>
      </footer>
    </div>
    <div id="resultsModal" class="modal fade" role="dialog">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal">
              &times;
            </button>
            <h2 class="modal-title"><strong>Best Match</strong></h2>
          </div>

          <div class="modal-body">
            <h2 id="matchName"></h2>
            <img
              id="matchImg"
              src="https://via.placeholder.com/400x400"
              alt="Placeholder image in case user pic doesn't show"
            />
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">
              Close
            </button>
          </div>
        </div>
      </div>
    </div>

    <script type="text/javascript">
      $("#submit").on("click", function() {
        function validateForm() {
          var isValid = true;
          $(".form-control").each(function() {
            if ($(this).val() === "") isValid = false;
          });
          $(".chosen-select").each(function() {
            if ($(this).val() === "") isValid = false;
          });
          return isValid;
        }
        if (validateForm() == true) {
          var userData = {
            name: $("#name").val(),
            photo: $("#photo").val(),
            scores: [
              $("#q1").val(),
              $("#q2").val(),
              $("#q3").val(),
              $("#q4").val(),
              $("#q5").val(),
              $("#q6").val(),
              $("#q7").val(),
              $("#q8").val(),
              $("#q9").val(),
              $("#q10").val()
            ]
          };
          var currentURL = window.location.origin;
          $.post(currentURL + "/api/friends", userData, function(data) {
            $("#matchName").text(data.name);
            $("#matchImg").attr("src", data.photo);
            $("#resultsModal").modal("toggle");
          });
        } else {
          alert("Please fill out all fields before submitting!");
        }
        return false;
      });
    </script>
  </body>
</html>